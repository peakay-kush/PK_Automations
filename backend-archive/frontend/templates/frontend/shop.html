{% extends 'frontend/base.html' %}

{% block content %}
<h1>Shop</h1>
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
  {% for p in products %}
    <div class="product-card border rounded-lg overflow-hidden shadow-sm">
      <a href="/product/{{ p.id }}/">
        <img class="w-full h-48 object-cover" src="{{ p.image_url }}" alt="{{ p.name }}" onerror="this.onerror=null;this.src='/static/frontend/img/placeholder.png'" />
        <div class="p-4">
          <h3 class="text-xl font-semibold">{{ p.name }}</h3>
          <p class="text-sm text-gray-600">KSh {{ p.price|floatformat:2 }}</p>
        </div>
      </a>
      <div class="p-4">
        <button class="add-to-cart" data-id="{{ p.id }}" data-name="{{ p.name|escapejs }}" data-price="{{ p.price }}" data-image="{{ p.image_url }}">Add to cart</button>
      </div>
    </div>
  {% endfor %}
</div>
{% endblock %}
